### <center> Chameleon算法复现说明文档 </center>
#### 一、系统启动方式：
* 要复现Chameleon算法，除了执行之前已有的命令，还需要执行以下命令：
``` shell
# 这两条命令在云端服务器上执行
cd SchedulingSystem/server
python3.8 service_provider.py --server_ip=114.212.81.11 --server_port=4520 --edge_port=4520

# 这两条命令需要在一台空闲的边缘设备上执行。假设视频流分析调度系统运行在ip为192.168.1.9的边缘设备上，那么以下两条命令可以执行在ip为192.168.1.7的边缘设备上
cd SchedulingSystem/client
python3 service_provider.py --server_ip=114.212.81.11 --server_port=4520 --edge_ip=192.168.1.7 --edge_port=4520
```
* service_provider.py的作用是：Chameleon算法需要以各种不同的配置实际运行视频流分析任务，在遍历各种配置的时候不能对正在运行的视频流分析任务产生干扰，因此在云端又启动了一个flask服务器来提供各种服务的执行功能；由于边缘设备能力较弱，如果在原来的边缘设备上再启动一个flask服务器势必会对原有的视频流分析任务产生干扰，因此选择在另一台空闲的边缘设备上启动一个flask服务器来提供各种服务的执行功能。例如，在边缘设备192.168.1.9上运行视频流分析任务，那么就在192.168.1.7上提供服务的执行功能。


#### 二、路由器中的端口映射：
* 由于调度策略在云端制定，Chameleon算法遍历各种配置时需要从云端向边端发起请求，实现对边端服务的调用。而边缘设备都放置在路由器下，若想从云端向边端发起请求，就需要在路由器内部进行端口映射，目前路由器中配置的映射方式为：
```
114.212.81.156:25717 -> 192.168.1.7:4520
114.212.81.156:25719 -> 192.168.1.9:4520
```
因此，如果云端想请求ip为192.168.1.7的边缘设备上端口号为4520的后端服务器，其发起请求的url的ip和端口号应该设置为114.212.81.156:25717。


